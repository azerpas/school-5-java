name: CI

on: [push, pull_request, pull_request_target]

jobs:
    build-and-test:
      runs-on: ubuntu-latest
      if: >
        github.event_name == 'push' ||
        github.event_name == 'pull_request_target' && github.event.pull_request.head.repo.full_name != github.repository
      steps:
          - uses: actions/checkout@v2
          - name: Setup Ubuntu
            run: sudo apt-get install language-pack-en language-pack-de
          - name: Set up JDK 11
            uses: actions/setup-java@v1
            with:
              java-version: 11
          - uses: ashley-taylor/junit-report-annotations-action@master
            with:
              access-token: ${{ secrets.GITHUB_TOKEN }}
            if: always()